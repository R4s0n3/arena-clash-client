<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0"
    />
    <title>Arena Clash</title>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Cinzel:wght@500;700&family=Space+Grotesk:wght@400;600&display=swap");

      :root {
        --ink: #0b0f14;
        --steel: #2b323c;
        --ember: #d36c35;
        --ember-bright: #f6a45a;
        --gold: #d4b26f;
        --frost: #e8edf2;
        --panel: rgba(12, 16, 22, 0.86);
        --panel-strong: rgba(12, 16, 22, 0.94);
        --glow: rgba(246, 164, 90, 0.28);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        overflow: hidden;
        background:
          radial-gradient(1200px 600px at 20% 10%, rgba(255, 198, 121, 0.08), transparent 60%),
          radial-gradient(900px 500px at 80% 0%, rgba(121, 198, 255, 0.08), transparent 55%),
          linear-gradient(140deg, #07090c, #0f141c 40%, #111621 100%);
        font-family: "Space Grotesk", "Segoe UI", Arial, sans-serif;
        cursor: crosshair;
        color: var(--frost);
      }
      canvas {
        display: block;
      }

      /* Overlay / Title Screen */
      #overlay {
        position: fixed;
        inset: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        background:
          radial-gradient(800px 400px at 50% 20%, rgba(211, 108, 53, 0.12), transparent 60%),
          rgba(0, 0, 0, 0.72);
        z-index: 100;
        backdrop-filter: blur(4px);
      }
      #overlay .panel {
        text-align: center;
        color: #fff;
        background: linear-gradient(160deg, rgba(20, 25, 32, 0.92), rgba(8, 10, 14, 0.92));
        border: 1px solid rgba(212, 178, 111, 0.35);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6), inset 0 0 40px rgba(211, 108, 53, 0.12);
        padding: 36px 44px;
        border-radius: 18px;
        min-width: 360px;
        animation: panel-rise 0.8s ease forwards;
      }
      #overlay h1 {
        font-family: "Cinzel", "Times New Roman", serif;
        font-size: 3rem;
        margin-bottom: 0.35rem;
        letter-spacing: 2px;
        text-shadow: 0 0 24px rgba(211, 108, 53, 0.7);
      }
      #overlay p {
        color: #cfd6dd;
        margin-bottom: 1.2rem;
        font-size: 1.05rem;
      }
      #name-input {
        display: block;
        width: 100%;
        padding: 10px 16px;
        margin-bottom: 1rem;
        font-size: 1rem;
        font-family: "Space Grotesk", sans-serif;
        background: rgba(20, 25, 32, 0.8);
        border: 1px solid rgba(212, 178, 111, 0.4);
        border-radius: 10px;
        color: var(--frost);
        text-align: center;
        outline: none;
        transition: border-color 0.2s;
      }
      #name-input::placeholder {
        color: #6b7280;
      }
      #name-input:focus {
        border-color: var(--ember-bright);
        box-shadow: 0 0 16px rgba(211, 108, 53, 0.2);
      }
      #overlay button {
        padding: 14px 52px;
        font-size: 1.05rem;
        background: linear-gradient(120deg, #d36c35, #f1a15e);
        color: #1b120b;
        border: 1px solid rgba(255, 255, 255, 0.2);
        border-radius: 999px;
        cursor: pointer;
        font-weight: 700;
        letter-spacing: 0.08em;
        box-shadow: 0 10px 30px rgba(211, 108, 53, 0.35);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        position: relative;
      }
      #overlay button:hover {
        transform: translateY(-2px);
        box-shadow: 0 18px 30px rgba(211, 108, 53, 0.5);
      }
      #overlay button.loading {
        cursor: wait;
        opacity: 0.9;
        box-shadow: 0 10px 24px rgba(211, 108, 53, 0.25);
      }
      #overlay button.loading::after {
        content: "";
        position: absolute;
        right: 16px;
        top: 50%;
        width: 14px;
        height: 14px;
        margin-top: -7px;
        border-radius: 50%;
        border: 2px solid rgba(27, 18, 11, 0.35);
        border-top-color: rgba(27, 18, 11, 0.9);
        animation: spin 0.8s linear infinite;
      }
      .controls-info {
        margin-top: 1.5rem;
        color: #9aa3ad;
        font-size: 0.82rem;
        line-height: 2;
      }
      .controls-info kbd {
        background: #1c232d;
        padding: 3px 10px;
        border-radius: 6px;
        border: 1px solid rgba(212, 178, 111, 0.4);
        font-family: "Space Grotesk", monospace;
        color: #f0e8d8;
      }

      /* HUD - Health & Stamina */
      #hud {
        position: fixed;
        bottom: 22px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 10;
        display: none;
        background: var(--panel);
        border: 1px solid rgba(212, 178, 111, 0.35);
        border-radius: 16px;
        padding: 12px 18px;
        box-shadow: 0 16px 40px rgba(0, 0, 0, 0.5);
      }
      .bar-bg {
        width: 320px;
        height: 18px;
        background: linear-gradient(180deg, #1a202b, #0e1218);
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        overflow: hidden;
        box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.6);
      }
      .bar-bg + .bar-bg {
        margin-top: 6px;
        height: 10px;
      }
      #health-bar {
        height: 100%;
        background: linear-gradient(90deg, #27ae60, #2ecc71);
        border-radius: 999px;
        transition: width 0.2s;
        box-shadow: 0 0 18px var(--glow);
      }
      #stamina-bar {
        height: 100%;
        background: linear-gradient(90deg, #2980b9, #3498db);
        border-radius: 999px;
        transition: width 0.15s;
        box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
      }
      #health-text {
        text-align: center;
        color: #f4efe6;
        font-size: 0.75rem;
        margin-top: 4px;
        letter-spacing: 0.08em;
      }

      /* Scoreboard */
      #scoreboard {
        position: fixed;
        top: 16px;
        right: 16px;
        z-index: 10;
        background: var(--panel-strong);
        border-radius: 14px;
        padding: 12px 16px;
        color: #fff;
        font-size: 0.8rem;
        display: none;
        min-width: 200px;
        border: 1px solid rgba(212, 178, 111, 0.35);
        box-shadow: 0 14px 40px rgba(0, 0, 0, 0.5);
      }
      #scoreboard h3 {
        font-family: "Cinzel", "Times New Roman", serif;
        font-size: 0.9rem;
        margin-bottom: 8px;
        color: var(--gold);
        border-bottom: 1px solid rgba(255, 255, 255, 0.08);
        padding-bottom: 6px;
        letter-spacing: 0.12em;
      }
      .score-entry {
        display: flex;
        justify-content: space-between;
        padding: 4px 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.04);
      }
      .score-entry:last-child {
        border-bottom: none;
      }
      .score-entry .name {
        display: flex;
        align-items: center;
        gap: 8px;
      }
      .score-entry .color-dot {
        width: 9px;
        height: 9px;
        border-radius: 50%;
        display: inline-block;
        box-shadow: 0 0 6px rgba(255, 255, 255, 0.35);
      }
      .score-entry.self {
        color: #f4d28c;
        font-weight: 600;
      }

      /* Chat */
      #chatlog {
        position: fixed;
        bottom: 110px;
        left: 16px;
        z-index: 10;
        display: none;
        max-height: 170px;
        overflow: hidden;
        padding: 10px 14px;
        background: rgba(10, 14, 19, 0.7);
        border: 1px solid rgba(255, 255, 255, 0.06);
        border-radius: 12px;
        backdrop-filter: blur(4px);
      }
      .chat-msg {
        color: #dbe3ea;
        font-size: 0.75rem;
        text-shadow: 0 1px 3px rgba(0, 0, 0, 0.9);
        padding: 2px 0;
        animation: fadeout 8s forwards;
      }
      @keyframes fadeout {
        0%, 70% { opacity: 1; }
        100% { opacity: 0; }
      }

      /* Kill Feed */
      #kill-feed {
        position: fixed;
        top: 16px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 10;
        display: none;
        text-align: center;
        pointer-events: none;
      }
      .kill-entry {
        background: rgba(12, 16, 22, 0.8);
        border: 1px solid rgba(212, 178, 111, 0.2);
        border-radius: 8px;
        padding: 5px 14px;
        margin-bottom: 4px;
        font-size: 0.78rem;
        animation: killfade 5s forwards;
        display: inline-block;
      }
      .kill-entry .killer {
        color: #e74c3c;
        font-weight: 600;
      }
      .kill-entry .kill-icon {
        color: var(--gold);
        margin: 0 4px;
      }
      .kill-entry .victim {
        color: #bdc3c7;
      }
      @keyframes killfade {
        0%, 60% { opacity: 1; transform: translateY(0); }
        100% { opacity: 0; transform: translateY(-10px); }
      }

      /* Crosshair */
      #crosshair {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
        pointer-events: none;
        display: none;
        width: 18px;
        height: 18px;
        border: 1px solid rgba(255, 255, 255, 0.5);
        border-radius: 50%;
        box-shadow: 0 0 14px rgba(211, 108, 53, 0.4);
      }
      #crosshair::after {
        content: "";
        position: absolute;
        width: 4px;
        height: 4px;
        background: rgba(255, 255, 255, 0.7);
        border-radius: 50%;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      /* Death Screen */
      #death-screen {
        position: fixed;
        inset: 0;
        display: none;
        justify-content: center;
        align-items: center;
        background: radial-gradient(circle at center, rgba(139, 0, 0, 0.35), rgba(20, 0, 0, 0.75));
        z-index: 50;
        color: #fff;
        font-size: 2.2rem;
        text-shadow: 0 0 30px rgba(139, 0, 0, 0.9);
        flex-direction: column;
        font-family: "Cinzel", "Times New Roman", serif;
        letter-spacing: 0.2em;
      }
      #death-screen .sub {
        font-size: 0.9rem;
        color: #d0d0d0;
        margin-top: 0.5rem;
        letter-spacing: 0.2em;
        font-family: "Space Grotesk", sans-serif;
      }

      /* Player Count */
      #player-count {
        position: fixed;
        top: 16px;
        left: 16px;
        color: #c7cbd1;
        font-size: 0.75rem;
        z-index: 10;
        display: none;
        padding: 6px 12px;
        background: rgba(12, 16, 22, 0.7);
        border-radius: 999px;
        border: 1px solid rgba(255, 255, 255, 0.08);
        letter-spacing: 0.12em;
        text-transform: uppercase;
      }

      @keyframes panel-rise {
        0% { transform: translateY(20px); opacity: 0; }
        100% { transform: translateY(0); opacity: 1; }
      }
      @keyframes spin {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
      }
    </style>
  </head>
  <body>
    <div id="overlay">
      <div class="panel">
        <h1>Arena Clash</h1>
        <p>Enter the arena. Fight to survive.</p>
        <input
          id="name-input"
          type="text"
          placeholder="Enter your name..."
          maxlength="20"
          autocomplete="off"
          spellcheck="false"
        />
        <button id="play-btn">ENTER ARENA</button>
        <div class="controls-info">
          <kbd>W</kbd><kbd>A</kbd><kbd>S</kbd><kbd>D</kbd>
          Move &nbsp;|&nbsp;
          <kbd>Mouse</kbd> Look<br />
          <kbd>Left Click</kbd> Attack &nbsp;|&nbsp;
          <kbd>Right Click</kbd> Block<br />
          <kbd>Space</kbd> Jump &nbsp;|&nbsp;
          <kbd>Shift</kbd> Dodge
        </div>
      </div>
    </div>

    <div id="hud">
      <div class="bar-bg">
        <div id="health-bar" style="width: 100%"></div>
      </div>
      <div class="bar-bg">
        <div id="stamina-bar" style="width: 100%"></div>
      </div>
      <div id="health-text">100 / 100</div>
    </div>

    <div id="scoreboard">
      <h3>Scoreboard</h3>
      <div id="scores"></div>
    </div>

    <div id="chatlog"></div>
    <div id="crosshair"></div>
    <div id="kill-feed"></div>

    <div id="death-screen">
      <div>YOU DIED</div>
      <div class="sub">Respawning...</div>
    </div>

    <div id="player-count"></div>

    <script type="module" src="/src/main.ts"></script>
  </body>
</html>
